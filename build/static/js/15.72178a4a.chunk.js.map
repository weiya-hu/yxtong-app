{"version":3,"sources":["public/images/user/false.png","views/user/posterShareh5.tsx","utils/user.ts"],"names":["PosterShareh5","state","imgUrl","getBase64","img","window","btoa","Uint8Array","reduce","data","byte","String","fromCharCode","star","a","posterId","util","getUrlParam","uid","axios","url","method","id","responseType","headers","MODULE","then","res","setState","this","className","src","alt","onError","e","target","falseimg","Component","validate_mobile","mobile","test","validate_captcha","val","validate_yzm","validate_password","validate_passwordRegister","name","reg","RegExp","r","location","search","substring","match","decodeURI"],"mappings":"iHAAe,QAA0B,mC,4NCQpBA,E,4MACnBC,MAAM,CACJC,OAAO,I,EAETC,UAAU,SAACC,GAOT,MANe,gCAA4BC,OAAOC,KAChD,IAAIC,WAAWH,GAAKI,QAClB,SAACC,EAAMC,GAAP,OAAgBD,EAAOE,OAAOC,aAAaF,KAC3C,O,EAKNG,K,sBAAK,8BAAAC,EAAA,sDACCC,EAAWC,IAAKC,YAAY,YAC5BC,EAAMF,IAAKC,YAAY,OAC3BE,IAAM,CAACC,IAAI,uCAAwCC,OAAO,OAAOZ,KAAK,CAACa,GAAGP,EAASG,IAAIA,GAAKK,aAAa,cAAcC,QAAS,CAAEC,OAAQ,UAAWC,MAAK,SAAAC,GACxJ,EAAKC,SAAS,CACZ1B,OAAO,EAAKC,UAAUwB,EAAIlB,WAL3B,2C,uDASL,WACEoB,KAAKhB,S,oBAER,WACG,IAAOX,EAAS2B,KAAK5B,MAAdC,OACT,OAAO,sBAAK4B,UAAU,gBAAf,UACH,qBAAKA,UAAU,oBAAf,SAAmC,qBAAKC,IAAK7B,EAAQ8B,IAAI,SAASC,QAAS,SAACC,GAAQA,EAAEC,OAAOJ,IAAMK,SACnG,qBAAKN,UAAU,gBAAf,sCACA,qBAAKA,UAAU,eAAf,uHACA,qBAAKA,UAAU,eAAf,+GACA,qBAAKA,UAAU,eAAf,gNACA,qBAAKA,UAAU,eAAf,gH,GAjCqCO,c,gCCR3C,kCAAO,IAAMrB,EAAM,CACfsB,gBAAgB,SAACC,GACb,GAAGA,EAAO,CAEN,MADqB,oFACFC,KAAKD,GAGjB,GAFI,yDAIX,MAAO,oDAIfE,iBAAiB,SAACC,GACd,GAAGA,EAAI,CAEH,MADsB,UACFF,KAAKE,GAGlB,GAFI,+DAIX,MAAO,8CAIfC,aAAa,SAACD,GACV,GAAGA,EAAI,CAEH,MADkB,UACFF,KAAKE,GAGd,GAFI,2EAIX,MAAO,0DAIfE,kBAAkB,SAACF,GACf,GAAGA,EAAI,CAIH,MAFmB,iDAEFF,KAAKE,GAGf,GAFI,wGAIX,MAAO,wCAIfG,0BAA0B,SAACH,GACvB,GAAGA,EAAI,CAEH,MADmB,iEACFF,KAAKE,GAGf,GAFI,wGAIX,MAAO,wCAIfzB,YAAY,SAAC6B,GACT,IAAIC,EAAM,IAAIC,OAAO,QAASF,EAAM,iBAChCG,EAAI5C,OAAO6C,SAASC,OAAOC,UAAU,GAAGC,MAAMN,GAClD,OAAM,MAAHE,EAAgBK,UAAUL,EAAE,IAAY","file":"static/js/15.72178a4a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/false.0d3cf9fe.png\";","//@ts-nocheck\r\nimport { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './posterShareh5.scss'\r\nimport { util } from 'utils/user'\r\n\r\nimport falseimg from 'public/images/user/false.png'\r\n\r\nexport default class PosterShareh5 extends Component {\r\n  state={\r\n    imgUrl:''\r\n  }\r\n  getBase64=(img)=> {\r\n    const base64Url = `data:image/png;base64,${window.btoa(\r\n      new Uint8Array(img).reduce(\r\n        (data, byte) => data + String.fromCharCode(byte),\r\n        \"\"\r\n      )\r\n    )}`;\r\n    return base64Url;\r\n  }\r\n  star=async()=>{\r\n    let posterId = util.getUrlParam('posterId')\r\n    let uid = util.getUrlParam('uid')\r\n    axios({url:'/user/public/promote/poster/share.do', method:'post',data:{id:posterId,uid:uid},responseType:\"arraybuffer\",headers: { MODULE: 'user' }}).then(res=>{\r\n      this.setState({\r\n        imgUrl:this.getBase64(res.data)\r\n      })\r\n    })\r\n  }\r\n  componentDidMount(){\r\n    this.star()\r\n  }\r\n\trender(){\r\n    const {imgUrl} =this.state\r\n\t\treturn <div className='posterShareh5'>\r\n      <div className='fleximg posterimg'><img src={imgUrl} alt=\"poster\" onError={(e) => { e.target.src = falseimg }}/></div>\r\n      <div className='operate-title'>操作指引</div>\r\n      <div className='operate-text'>1、长按图片3s，出现“转发给朋友”字样</div>\r\n      <div className='operate-text'>2、点击该字样，转发给你的好友或群</div>\r\n      <div className='operate-text'>3、当好友看到你分享的图片素材时，长按识别二维码，即可完成注册/登录</div>\r\n      <div className='operate-text'>4、好友成功注册完成后，获得奖励</div>\r\n    </div>\r\n\t}\r\n}","export const util ={\r\n    validate_mobile:(mobile)=>{\r\n        if(mobile){\r\n            let pattern={mobile: /^(((13[0-9])|(14[0-9])|(15[0-9])|(16[0-9])|(17[0-9])|(18[0-9])|(19[0-9]))+\\d{8})$/ };\r\n            if(!pattern.mobile.test(mobile)){\r\n                return '电话号码输入不正确';\r\n            }\r\n            return '';\r\n        }else{\r\n            return '电话号码不能为空'\r\n        }\r\n        \r\n    },\r\n    validate_captcha:(val)=>{\r\n        if(val){\r\n            let pattern={captcha: /^\\w{5}$/ };\r\n            if(!pattern.captcha.test(val)){\r\n                return '验证码格式输入不正确';\r\n            }\r\n            return \"\";\r\n        }else{\r\n            return '验证码不能为空'\r\n        }\r\n        \r\n    },\r\n    validate_yzm:(val)=>{\r\n        if(val){\r\n            let pattern={yzm: /^\\w{6}$/ };\r\n            if(!pattern.yzm.test(val)){\r\n                return '短信验证码格式输入不正确';\r\n            }\r\n            return \"\";\r\n        }else{\r\n            return '短信验证码不能为空'\r\n        }\r\n        \r\n    },\r\n    validate_password:(val)=>{\r\n        if(val){\r\n            // let pattern={vali: /^\\w{6,16}$/ };\r\n            let pattern={vali: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z\\W]{6,18}$/ };\r\n\r\n            if(!pattern.vali.test(val)){\r\n                return '密码长度在6~18之间,不能只是数字或字母';\r\n            }\r\n            return '';\r\n        }else{\r\n            return '密码不能为空'\r\n        }\r\n        \r\n    },\r\n    validate_passwordRegister:(val)=>{\r\n        if(val){\r\n            let pattern={vali: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z,.!@#$%^&*()~/?|\\\\]{6,18}$/ }\r\n            if(!pattern.vali.test(val)){\r\n                return '密码长度在6~18之间,不能只是数字或字母'\r\n            }\r\n            return '';\r\n        }else{\r\n            return '密码不能为空'\r\n        }\r\n        \r\n    },\r\n    getUrlParam:(name)=>{\r\n        var reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n        var r = window.location.search.substring(1).match(reg);\r\n        if(r!=null)return  decodeURI(r[2]); return null;\r\n    },\r\n\r\n}"],"sourceRoot":""}