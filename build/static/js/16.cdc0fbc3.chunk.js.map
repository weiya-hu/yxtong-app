{"version":3,"sources":["views/login/component/othorLogin/phoneBindLogin/phoneBindLogin.tsx"],"names":["phoneBindLogin","state","warnMessage","inviteCode","sessionStorage","getItem","agree","mobileValue","acode","nextSubmit","value","console","log","message","mobile","util","validate_mobile","validate_yzm","sms","setState","countryCode","isForget","okSubmit","registerPassword","validate_passwordRegister","surePassword","registerSubmit","a","mobileYZM","toIndex","window","location","href","document","title","body","style","overflow","this","id","className","src","logoimg","alt","onClick","onFinish","onFinishFailed","GETFalseMessage","val","formName","name","MobileValue","Acode","type","defaultValue","warnimg","htmlType","selectimg","unselectimg","Component"],"mappings":"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","file":"static/js/16.cdc0fbc3.chunk.js","sourcesContent":["\r\n\r\nimport { Component } from 'react'\r\nimport './phoneBindLogin.scss'\r\nimport { Form , Button} from 'antd';\r\nimport InputComponent from 'views/login/component/inputComponent';\r\nimport { util } from 'utils/user'\r\nimport {doreg} from 'service/login'\r\nimport $message from 'views/component/message';\r\n\r\n\r\nimport logoimg from 'public/images/logow.png'\r\nimport warnimg from 'public/images/warn.png'\r\nimport unselectimg from 'public/images/unselect.png'\r\nimport selectimg from 'public/images/select.png'\r\n\r\nexport default class phoneBindLogin extends Component {\r\n    state={\r\n        warnMessage:'',//input框验证错误\r\n        inviteCode:sessionStorage.getItem('inviteCode')?sessionStorage.getItem('inviteCode'):'',//邀请码默认值\r\n        agree:false,//是否阅读并同意协议的默认值\r\n        mobileValue:'',\r\n        acode:'86',\r\n    }\r\n    nextSubmit=(value)=>{\r\n        console.log(value)\r\n        let mobile = util.validate_mobile(value.mobile),message     \r\n        message = mobile?mobile:util.validate_yzm(value.sms)   \r\n        this.setState({warnMessage:message})\r\n        if(!message){\r\n            value.countryCode = value.countryCode?value.countryCode:'86'\r\n            console.log('下一步ok')\r\n            console.log(value)\r\n            //接口，下一步\r\n            this.setState({isForget:'next'})\r\n        }\r\n        \r\n    }\r\n    okSubmit=(value)=>{\r\n        console.log(value)\r\n        let registerPassword = util.validate_passwordRegister(value.registerPassword),message     \r\n        message = registerPassword?registerPassword:util.validate_passwordRegister(value.surePassword)   \r\n        if(!message && value.registerPassword === value.surePassword){\r\n            console.log('下一步ok')\r\n            //接口，完成\r\n        }       \r\n    }\r\n    registerSubmit=async(value)=>{\r\n        console.log(value)\r\n        let mobile = util.validate_mobile(value.mobile),message  \r\n        let mobileYZM = util.validate_yzm(value.sms)\r\n        message = mobile?mobile:mobileYZM\r\n        this.setState({warnMessage:message})\r\n        if(!message){\r\n            if(!this.state.agree){\r\n                this.setState({warnMessage:'请阅读并同意《药智网用户须知》'})\r\n            }else{\r\n                console.log('meiwenti')\r\n                // value.acode='+'+value.acode\r\n                // const res =await doreg({...value})\r\n                // if(res.status){\r\n                //     window.location.href='/'\r\n                // }            \r\n                // $message.info(res.message)\r\n            }            \r\n        }      \r\n    }\r\n    toIndex=()=>{\r\n        window.location.href='/'\r\n    }\r\n    componentDidMount(){\r\n        document.title = '康州数智-绑定手机号码'\r\n        document.body.style.overflow='hidden'\r\n    }\r\n    render(){\r\n        let {warnMessage,mobileValue,acode} = this.state\r\n        return <div id='register'>\r\n            <div className='content'>\r\n                <div className='logoimg fleximg'><img src={logoimg} alt=\"logo\" onClick={this.toIndex} /></div>\r\n                \r\n                    <div className='forget'>\r\n                        <div className='forgettitle'>手机号绑定</div>\r\n                        <div className='forgetform'>\r\n                            <Form\r\n                                onFinish={this.registerSubmit}\r\n                                onFinishFailed={this.registerSubmit}\r\n                            >\r\n                                <div className='marg'>\r\n                                    <InputComponent \r\n                                        GETFalseMessage={(val)=>{this.setState({warnMessage:val})}} \r\n                                        formName='mobile' \r\n                                        name='mobile'\r\n                                        MobileValue={(val)=>{this.setState({mobileValue:val})}} \r\n                                        Acode={(val)=>{this.setState({acode:val})}}\r\n                                    />\r\n                                </div>\r\n                                <div className='marg'>\r\n                                    <InputComponent \r\n                                        GETFalseMessage={(val)=>{this.setState({warnMessage:val})}} \r\n                                        formName='sms' \r\n                                        name='mobileYZM'\r\n                                        mobileValue={mobileValue}\r\n                                        acode={acode}\r\n                                        type='register'\r\n                                    />\r\n                                </div>\r\n                                <div className='marg'>\r\n                                    <InputComponent GETFalseMessage={(val)=>{this.setState({warnMessage:val})}} formName='invite_code' name='inviteCode' defaultValue={this.state.inviteCode}/>\r\n                                </div>\r\n                                {\r\n                                    warnMessage && <div className='warnnext flexll'>\r\n                                    <div><img src={warnimg} alt=\"warn\" /></div>\r\n                                    <span>{warnMessage}</span>\r\n                                </div> \r\n                                }\r\n                                \r\n                                <Button className='forgetnextbt' htmlType=\"submit\">绑定手机</Button>\r\n                                <div className='flexl agree' onClick={()=>{this.setState({agree:!this.state.agree})}}>\r\n                                    {this.state.agree?\r\n                                        (<div><img src={selectimg} alt=\"checked\" /></div> ):\r\n                                        (<div><img src={unselectimg} alt=\"unchecked\" /></div> )\r\n                                    }\r\n                                    <span>我已阅读并同意</span>\r\n                                    <span className='Link'>《药智网用户须知》</span>\r\n                                    {/* <Link>《药智网用户须知》</Link>                                    */}\r\n                                </div>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n               \r\n            </div>\r\n        </div>\r\n    }\r\n    \r\n}"],"sourceRoot":""}