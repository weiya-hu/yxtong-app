(this["webpackJsonpyxt-cp-app"]=this["webpackJsonpyxt-cp-app"]||[]).push([[5],{18:function(n,e,t){"use strict";var o,c=t(32),r=t(30),i=t(0),u=t(19),a=t(1),s=function(n){var e=n.type,t=n.text;return Object(a.jsx)("div",{className:"message ".concat(e),children:Object(a.jsx)("span",{children:t})})},l=(t(81),function(){var n=Object(i.useState)([]),e=Object(r.a)(n,2),t=e[0],u=e[1];return o=function(n){u((function(e){var t=[].concat(Object(c.a)(e),[n]);return setTimeout((function(){!function(n){var e=n.key;u((function(n){return n.filter((function(n){return e!==n.key}))}))}(n)}),3e3),t}))},Object(i.useEffect)((function(){t.length>0&&t.shift()}),[t]),Object(a.jsx)(a.Fragment,{children:t.map((function(n){var e=n.text,t=n.key,o=n.type;return Object(a.jsx)(s,{type:o,text:e},t)}))})}),d=function(){return(1e3*Math.random()).toFixed()},p={info:function(n){o({text:n,key:d(),type:"info"})},success:function(n){o({text:n,key:d(),type:"success"})},warning:function(n){o({text:n,key:d(),type:"warning"})},error:function(n){o({text:n,key:d(),type:"error"})}};e.a=p;!function(){var n=document.getElementById("#message-wrap");n||((n=document.createElement("div")).className="message-wrap",n.id="message-wrap",document.body.append(n)),u.render(Object(a.jsx)(l,{}),n)}()},34:function(n,e,t){"use strict";t.d(e,"h",(function(){return c})),t.d(e,"b",(function(){return r})),t.d(e,"a",(function(){return i})),t.d(e,"f",(function(){return u})),t.d(e,"g",(function(){return a})),t.d(e,"d",(function(){return s})),t.d(e,"c",(function(){return l})),t.d(e,"e",(function(){return d}));var o=t(8),c=function(){return Object(o.a)("user/public/token")},r=function(n){return Object(o.b)("login/dologin",n)},i=function(){return Object(o.a)("user/public/captcha")},u=function(n){return Object(o.b)("login/send-sms",n)},a=function(n){return Object(o.b)("login/send-sms-reg",n)},s=function(){return Object(o.a)("user/public/get-user")},l=function(n){return Object(o.b)("login/doreg",n)},d=function(){return Object(o.a)("login/login-out")}},38:function(n,e,t){"use strict";t.d(e,"a",(function(){return u}));var o=t(33),c=t(25),r=t.n(c),i=t(34),u={getScrollTop:function(){var n=0,e=0;return document.body&&(n=document.body.scrollTop),document.documentElement&&(e=document.documentElement.scrollTop),n-e>0?n:e},getScrollHeight:function(){var n=0,e=0;return document.body&&(n=document.body.scrollHeight),document.documentElement&&(e=document.documentElement.scrollHeight),n-e>0?n:e},getWindowHeight:function(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},getIsTOBottom:function(){return u.getScrollHeight()-u.getScrollTop()-u.getWindowHeight()},firstToken:function(){var n=Object(o.a)(r.a.mark((function n(){var e;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(localStorage.getItem("firstToken")){n.next=6;break}return n.next=4,Object(i.h)();case 4:e=n.sent,localStorage.setItem("firstToken",e.body);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}},57:function(n,e,t){},8:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return u}));var o=t(10),c=t.n(o),r=t(18);function i(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t,o){c.a.get(n,{params:e}).then((function(n){t(n.data)})).catch((function(n){r.a.info(n),o(n)}))}))}function u(n,e){return new Promise((function(t,o){c.a.post(n,e).then((function(n){t(n.data)}),(function(n){r.a.info(n.data.message),o(n)}))}))}c.a.defaults.timeout=1e4,c.a.defaults.baseURL="/api",c.a.interceptors.request.use((function(n){n.data=JSON.stringify(n.data);var e=window.localStorage.getItem("firstToken");return n.headers=e?{"Content-Type":"application/json",Authorization:e}:{"Content-Type":"application/json"},n}),(function(n){return Promise.reject(n)})),c.a.interceptors.response.use((function(n){return 10620===n.data.errno&&(console.log("\u767b\u5f55\u72b6\u6001\u8fc7\u671f"),localStorage.removeItem("userInfo"),window.location.href="/app/login?url="+window.location.pathname,r.a.info("\u767b\u5f55\u72b6\u6001\u8fc7\u671f\uff0c\u8bf7\u518d\u6b21\u767b\u5f55")),n}),(function(n){console.log("\u8bf7\u6c42\u51fa\u9519\uff1a",n)}))},81:function(n,e,t){},82:function(n,e,t){"use strict";t.r(e);var o=t(0),c=t.n(o),r=t(19),i=t.n(r),u=(t(57),t(14)),a=t(15),s=t(16),l=t(17),d=t(9),p=t(35),f=t(2),b=t(1),m=function(n){Object(s.a)(t,n);var e=Object(l.a)(t);function t(){return Object(u.a)(this,t),e.apply(this,arguments)}return Object(a.a)(t,[{key:"render",value:function(){return Object(b.jsx)("div",{children:"404"})}}]),t}(o.Component),j=function(){return Object(b.jsx)("div",{children:"Loading..."})},g=Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(14)]).then(t.bind(null,463))}),{LoadingComponent:j}),h=Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(15)]).then(t.bind(null,476))}),{LoadingComponent:j}),O=Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(13)]).then(t.bind(null,480))}),{LoadingComponent:j}),x=Object(d.a)((function(){return Promise.all([t.e(0),t.e(3),t.e(4),t.e(7),t.e(10)]).then(t.bind(null,470))}),{LoadingComponent:j}),y=Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(11)]).then(t.bind(null,481))}),{LoadingComponent:j}),v=Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(4),t.e(9)]).then(t.bind(null,473))}),{LoadingComponent:j}),w=Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(12)]).then(t.bind(null,466))}),{LoadingComponent:j}),k=Object(d.a)((function(){return t.e(16).then(t.bind(null,467))}),{LoadingComponent:j}),C=function(n){Object(s.a)(t,n);var e=Object(l.a)(t);function t(){return Object(u.a)(this,t),e.apply(this,arguments)}return Object(a.a)(t,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(p.a,{children:Object(b.jsxs)(f.d,{children:[Object(b.jsx)(f.b,{path:"/app/login",component:h}),Object(b.jsx)(f.b,{path:"/app/register/:name",component:O}),Object(b.jsx)(f.b,{path:"/app/user",exact:!0,component:x}),Object(b.jsx)(f.b,{path:"/app/news",component:y}),Object(b.jsx)(f.b,{path:"/app/newsdetail",component:v}),Object(b.jsx)(f.b,{path:"/app/newsauthormore",component:w}),Object(b.jsx)(f.b,{extra:!0,path:"/app",exact:!0,component:g}),Object(b.jsx)(f.b,{path:"/app/develop",component:k}),Object(b.jsx)(f.b,{path:"*",component:m})]})})})}}]),t}(c.a.Component),T=C,S=function(n){n&&n instanceof Function&&t.e(17).then(t.bind(null,468)).then((function(e){var t=e.getCLS,o=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;t(n),o(n),c(n),r(n),i(n)}))};t(38).a.firstToken().then((function(){i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root"))})),S()}},[[82,6,8]]]);
//# sourceMappingURL=main.9e52d7df.chunk.js.map