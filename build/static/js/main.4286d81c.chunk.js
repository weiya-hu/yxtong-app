(this["webpackJsonpyxt-cp-app"]=this["webpackJsonpyxt-cp-app"]||[]).push([[5],{24:function(e,n,t){"use strict";var o,r=t(30),c=t(29),i=t(0),u=t(17),a=t(1),s=function(e){var n=e.type,t=e.text;return Object(a.jsx)("div",{className:"message ".concat(n),children:Object(a.jsx)("span",{children:t})})},d=(t(80),function(){var e=Object(i.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1];return o=function(e){u((function(n){var t=[].concat(Object(r.a)(n),[e]);return setTimeout((function(){!function(e){var n=e.key;u((function(e){return e.filter((function(e){return n!==e.key}))}))}(e)}),3e3),t}))},Object(i.useEffect)((function(){t.length>0&&t.shift()}),[t]),Object(a.jsx)(a.Fragment,{children:t.map((function(e){var n=e.text,t=e.key,o=e.type;return Object(a.jsx)(s,{type:o,text:n},t)}))})}),l=function(){return(1e3*Math.random()).toFixed()},p={info:function(e){o({text:e,key:l(),type:"info"})},success:function(e){o({text:e,key:l(),type:"success"})},warning:function(e){o({text:e,key:l(),type:"warning"})},error:function(e){o({text:e,key:l(),type:"error"})}};n.a=p;!function(){var e=document.getElementById("#message-wrap");e||((e=document.createElement("div")).className="message-wrap",e.id="message-wrap",document.body.append(e)),u.render(Object(a.jsx)(d,{}),e)}()},32:function(e,n,t){"use strict";t.d(n,"g",(function(){return a})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d})),t.d(n,"e",(function(){return l})),t.d(n,"f",(function(){return p})),t.d(n,"d",(function(){return f})),t.d(n,"c",(function(){return m}));var o=t(8),r=t.n(o),c=t(24);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t,o){r.a.get(e,{params:n}).then((function(e){t(e.data)})).catch((function(e){c.a.info(e),o(e)}))}))}function u(e,n){return new Promise((function(t,o){r.a.post(e,n).then((function(e){t(e.data)}),(function(e){c.a.info(e.data.message),o(e)}))}))}r.a.defaults.timeout=1e4,r.a.defaults.baseURL="/api",r.a.interceptors.request.use((function(e){e.data=JSON.stringify(e.data);var n=window.localStorage.getItem("accessToken"),t=window.localStorage.getItem("firstToken"),o=n||t;return e.headers=o?{"Content-Type":"application/json",Authorization:o}:{"Content-Type":"application/json"},e}),(function(e){return Promise.reject(e)})),r.a.interceptors.response.use((function(e){return 2===e.data.errCode&&console.log("\u8fc7\u671f"),e}),(function(e){console.log("\u8bf7\u6c42\u51fa\u9519\uff1a",e)}));var a=function(){return i("user/public/token")},s=function(e){return u("login/dologin",e)},d=function(){return i("user/public/captcha")},l=function(e){return u("login/send-sms",e)},p=function(e){return u("login/send-sms-reg",e)},f=function(){return i("user/get-user")},m=function(e){return u("/login/doreg",e)}},36:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var o=t(31),r=t(23),c=t.n(r),i=t(32),u={getScrollTop:function(){var e=0,n=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),e-n>0?e:n},getScrollHeight:function(){var e=0,n=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),e-n>0?e:n},getWindowHeight:function(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},getIsTOBottom:function(){return u.getScrollHeight()-u.getScrollTop()-u.getWindowHeight()},firstToken:function(){var e=Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)();case 2:n=e.sent,localStorage.setItem("firstToken",n.body);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},56:function(e,n,t){},80:function(e,n,t){},81:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),c=t(17),i=t.n(c),u=(t(56),t(13)),a=t(14),s=t(15),d=t(16),l=t(9),p=t(33),f=t(2),m=t(1),b=function(e){Object(s.a)(t,e);var n=Object(d.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(a.a)(t,[{key:"render",value:function(){return Object(m.jsx)("div",{children:"404"})}}]),t}(o.Component),j=function(){return Object(m.jsx)("div",{children:"Loading..."})},g=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(13)]).then(t.bind(null,461))}),{LoadingComponent:j}),h=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(14)]).then(t.bind(null,473))}),{LoadingComponent:j}),O=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(11)]).then(t.bind(null,478))}),{LoadingComponent:j}),x=Object(l.a)((function(){return Promise.all([t.e(0),t.e(4),t.e(7),t.e(10)]).then(t.bind(null,468))}),{LoadingComponent:j}),y=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(12)]).then(t.bind(null,479))}),{LoadingComponent:j}),v=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(4),t.e(16),t.e(9)]).then(t.bind(null,472))}),{LoadingComponent:j}),w=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(15)]).then(t.bind(null,464))}),{LoadingComponent:j}),k=function(e){Object(s.a)(t,e);var n=Object(d.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(a.a)(t,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{children:Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{path:"/App/login",component:h}),Object(m.jsx)(f.b,{path:"/App/register/:name",component:O}),Object(m.jsx)(f.b,{path:"/App/user",exact:!0,component:x}),Object(m.jsx)(f.b,{path:"/App/news",component:y}),Object(m.jsx)(f.b,{path:"/App/newsDetail",component:v}),Object(m.jsx)(f.b,{path:"/App/newsAuthorMore",component:w}),Object(m.jsx)(f.b,{extra:!0,path:"/App",exact:!0,component:g}),Object(m.jsx)(f.b,{path:"*",component:b})]})})})}}]),t}(r.a.Component),C=k,T=function(e){e&&e instanceof Function&&t.e(17).then(t.bind(null,465)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),o(e),r(e),c(e),i(e)}))},S=t(36);i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),T(),S.a.firstToken()}},[[81,6,8]]]);
//# sourceMappingURL=main.4286d81c.chunk.js.map