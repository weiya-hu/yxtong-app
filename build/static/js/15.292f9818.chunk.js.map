{"version":3,"sources":["views/news/authorMore.tsx"],"names":["AuthorMore","state","isLogin","types","typeActiveIndex","newsList","hasMore","loadMoreData","array","setTimeout","ary","i","itm","title","content","time","read","from","star","share","follow","push","setState","concat","handleScroll","util","getIsTOBottom","window","removeEventListener","addEventListener","this","localStorage","setItem","className","src","alt","item","size","map","index","onClick","scrollTo","Component"],"mappings":"6RAUqBA,E,4MACjBC,MAAM,CACFC,SAAQ,EACRC,MAAM,CAAC,eAAK,eAAK,gBACjBC,gBAAgB,EAChBC,SAAS,GACTC,SAAQ,G,EAEZC,aAAa,WACT,IAAIC,EAAM,EAAKP,MAAMI,SACrBI,YAAW,WAET,IADA,IAAIC,EAAI,GACAC,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAClB,IAAIC,EAAI,CACNC,MAAM,mJACNC,QAAQ,giBACRC,KAAK,4BACLC,KAAK,KACLC,KAAK,qBACLC,KAAKP,EAAE,IAAM,EACbQ,MAAOR,EAAE,IAAK,EACdS,OAAOT,EAAE,IAAM,GAEjBD,EAAIW,KAAKT,GAEX,EAAKU,SAAS,CACZjB,SAASG,EAAMe,OAAOb,OAExB,M,EAINc,aAAe,WACRC,IAAKC,gBAAkB,KAExBC,OAAOC,oBAAoB,SAAU,EAAKJ,cAAc,GAErD,EAAKvB,MAAMK,SACZ,EAAKC,eAGPE,YAAW,kBAAIkB,OAAOE,iBAAiB,SAAU,EAAKL,cAAc,KAAQ,O,uDAGlF,WAEIG,OAAOE,iBAAiB,SAAUC,KAAKN,cAAc,GAGrD,IADA,IAAId,EAAI,GACAC,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAClB,IAAIC,EAAI,CACNC,MAAM,6LACNC,QAAQ,giBACRC,KAAK,4BACLC,KAAK,KACLC,KAAK,qBACLC,KAAKP,EAAE,IAAM,EACbQ,MAAOR,EAAE,IAAK,EACdS,OAAOT,EAAE,IAAM,GAEjBD,EAAIW,KAAKT,GAEXkB,KAAKR,SAAS,CACZjB,SAASK,M,kCAGf,WACIiB,OAAOC,oBAAoB,SAAUE,KAAKN,cAExCO,aAAaC,QAAQ,aAAa,wB,oBAIxC,WAAS,IAAD,OACJ,EAAuDF,KAAK7B,MAA7CE,GAAf,EAAOD,QAAP,EAAeC,OAAMC,EAArB,EAAqBA,gBAAgBC,EAArC,EAAqCA,SAASC,EAA9C,EAA8CA,QAC9C,OACI,sBAAK2B,UAAU,aAAf,UACI,sBAAKA,UAAU,cAAf,UACI,cAAC,IAAD,IACA,qBAAKA,UAAU,cACf,qBAAKA,UAAU,yBAAf,SAEI,sBAAKA,UAAU,mBAAf,UACI,sBAAKA,UAAU,wBAAf,UACI,sBAAKA,UAAU,QAAf,UACI,qBAAKA,UAAU,yBAAf,SAAwC,qBAAKC,IAAI,SAASC,IAAI,aAC9D,qBAAKF,UAAU,mBAAf,yCAEJ,8BACI,cAAC,IAAD,CAAcG,KAAM,CAAChB,QAAO,GAAQiB,KAAK,aAGjD,qBAAKJ,UAAU,QAAf,SACK9B,EAAMmC,KAAI,SAACF,EAAKG,GAAN,OAAc,qBAErBN,UAAW7B,IAAkBmC,EAAM,qCAAqC,gBACxEC,QAAS,WAAK,EAAKlB,SAAS,CAAClB,gBAAgBmC,IAASZ,OAAOc,SAAU,EAAE,IAHpD,SAIvBL,GAHOG,gBASzB,qBAAKN,UAAU,QAAf,SACI,sBAAKA,UAAU,gBAAf,UACK5B,EAASiC,KAAI,SAACF,EAAKG,GAAN,OAAc,8BACxB,cAAC,IAAD,CAAcH,KAAMA,EAAMC,KAAK,SADGE,MAGtC,8BACI,cAAC,IAAD,CAASjC,QAASA,kB,GA7GNoC","file":"static/js/15.292f9818.chunk.js","sourcesContent":["import { Component, ReactNode } from 'react'\r\nimport './authorMore.scss'\r\nimport Header from './component/header/header'\r\nimport FollowButton from './component/followButton/followButton'\r\nimport NewsListItem from './component/newsListItem/newsListItem'\r\nimport MoreTxt from './component/moreTxt/moreTxt'\r\nimport {util} from '../../utils/news'\r\n\r\nimport topimg from '../../public/images/user/top.jpg'\r\n\r\nexport default class AuthorMore extends Component{\r\n    state={\r\n        isLogin:true,//是否登录了\r\n        types:['全部','文章','视频'],\r\n        typeActiveIndex:0,\r\n        newsList:[],\r\n        hasMore:true,\r\n    }\r\n    loadMoreData=()=>{\r\n        let array=this.state.newsList\r\n        setTimeout(()=>{\r\n          let ary=[]\r\n          for(let i=0;i<7;i++){\r\n            let itm={\r\n              title:'国民党终于拿出一铁证，“台湾属于中国”响彻岛内！',\r\n              content:'今年9月份，前台湾地区领导人马英九在参加一场新书发布会接受媒体采访时，拿出了台湾属于中国的铁证，当时，马英九表示，《开罗宣言》中明确指出，“日本盗窃中国的领土，例如东北三省，台湾等等',\r\n              time:'2021年9月23日',\r\n              read:3029,\r\n              from:'小米网',\r\n              star:i%3 === 0,\r\n              share :i%2 ===0,\r\n              follow:i%3 === 0,\r\n            }\r\n            ary.push(itm)\r\n          }\r\n          this.setState({\r\n            newsList:array.concat(ary) \r\n          })\r\n        },500)\r\n      }\r\n       \r\n    // 页面滚动\r\n    handleScroll = () => {\r\n        if(util.getIsTOBottom() < 10){\r\n          // 解除绑定\r\n          window.removeEventListener('scroll', this.handleScroll ,false);\r\n          // 在这里发送请求\r\n          if(this.state.hasMore){\r\n            this.loadMoreData()\r\n          }          \r\n          // 并在请求到数据后重新开启监听\r\n          setTimeout(()=>window.addEventListener('scroll', this.handleScroll, false), 300)\r\n          }\r\n    }\r\n    componentDidMount(){\r\n\r\n        window.addEventListener('scroll', this.handleScroll, false)\r\n   \r\n        let ary=[]\r\n        for(let i=0;i<7;i++){\r\n          let itm={\r\n            title:'马英九发声后，国民党终于拿出一铁证，“台湾属于中国”响彻岛内！',\r\n            content:'今年9月份，前台湾地区领导人马英九在参加一场新书发布会接受媒体采访时，拿出了台湾属于中国的铁证，当时，马英九表示，《开罗宣言》中明确指出，“日本盗窃中国的领土，例如东北三省，台湾等等',\r\n            time:'2021年9月23日',\r\n            read:3029,\r\n            from:'小米网',\r\n            star:i%3 === 0,\r\n            share :i%2 ===0,\r\n            follow:i%3 === 0,\r\n          }\r\n          ary.push(itm)\r\n        }\r\n        this.setState({\r\n          newsList:ary\r\n        })\r\n      }\r\n    componentWillUnmount(): void {\r\n        window.removeEventListener('scroll', this.handleScroll)\r\n\r\n          localStorage.setItem('historyUrl','app/newsauthormore');\r\n\r\n\r\n    }\r\n    render(){\r\n        const {isLogin,types,typeActiveIndex,newsList,hasMore}=this.state\r\n        return(\r\n            <div className='authorMore'>\r\n                <div className='more-header'>\r\n                    <Header />\r\n                    <div className='blank-div'></div>\r\n                    <div className='more-types-pre fleximg'>\r\n                        \r\n                        <div className='more-top flexcbl'>\r\n                            <div className='more-top-author flexb'>\r\n                                <div className='flexl'>\r\n                                    <div className='fleximg more-headerimg'><img src='header' alt=\"header\" /></div>\r\n                                    <div className='more-auther-name'>央视新闻</div>\r\n                                </div>\r\n                                <div>\r\n                                    <FollowButton item={{follow:false}} size='big'/>\r\n                                </div>\r\n                            </div>\r\n                            <div className='flexl'>\r\n                                {types.map((item,index)=><div \r\n                                    key={index}\r\n                                    className={typeActiveIndex===index?'more-top-type more-top-type-active':'more-top-type'}\r\n                                    onClick={()=>{this.setState({typeActiveIndex:index}); window.scrollTo (0,0);}}\r\n                                >{item}</div> )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className='width'>\r\n                    <div className='more-newslist'>\r\n                        {newsList.map((item,index)=><div key={index}>\r\n                            <NewsListItem item={item} size='big'/>   \r\n                        </div> )}\r\n                        <div>\r\n                            <MoreTxt hasMore={hasMore}/>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":""}