(this["webpackJsonpyxt-cp-app"]=this["webpackJsonpyxt-cp-app"]||[]).push([[5],{11:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return u}));var o=t(13),r=t.n(o),c=t(4);function a(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t,o){r.a.get(n,{params:e}).then((function(n){t(n.data)})).catch((function(n){c.a.info(n),o(n)}))}))}function u(n,e){return new Promise((function(t,o){r.a.post(n,e).then((function(n){t(n.data)}),(function(n){c.a.info(n.data.message),o(n)}))}))}r.a.defaults.timeout=1e4,r.a.defaults.baseURL="/api",r.a.interceptors.request.use((function(n){return n.data=JSON.stringify(n.data),n.headers={"Content-Type":"application/json"},n}),(function(n){return Promise.reject(n)})),r.a.interceptors.response.use((function(n){return function(n){if(!n.data.status)switch(n.data.errno){case 10500:c.a.info("\u670d\u52a1\u5668\u672a\u77e5\u9519\u8bef");break;case 10400:c.a.info("\u9519\u8bef\u7684\u8bf7\u6c42");break;case 10403:c.a.info("\u975e\u6cd5token");break;case 10600:c.a.info("\u4e1a\u52a1\u5f02\u5e38");break;case 10611:c.a.info("\u53c2\u6570\u8f6c\u6362\u5931\u8d25");break;case 10620:c.a.info("\u8eab\u4efd\u8ba4\u8bc1\u5931\u8d25"),"/app/user"===window.location.pathname&&(window.location.href="/app/login?url="+window.location.pathname);break;case 10621:c.a.info("\u672a\u6388\u6743");break;case 10622:c.a.info("\u7528\u6237\u672a\u627e\u5230");break;case 10623:c.a.info("\u7528\u6237\u5df2\u7981\u7528");break;case 10624:c.a.info("\u5bc6\u7801\u9519\u8bef");break;case 10625:c.a.info("\u7528\u6237\u7ed1\u5b9a\u5931\u8d25")}}(n),n}),(function(n){console.log("\u8bf7\u6c42\u51fa\u9519\uff1a",n),c.a.info(n)}))},12:function(n,e,t){"use strict";t.d(e,"d",(function(){return o})),t.d(e,"c",(function(){return r})),t.d(e,"b",(function(){return c})),t.d(e,"a",(function(){return a}));var o="SetUserInfo",r="RemoveUserInfo",c="LoginShow",a="LoginRemove"},21:function(n,e,t){"use strict";var o=t(9),r=t(12),c={userInfo:null,loginShow:!1};var a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.d:return Object(o.a)(Object(o.a)({},n),{},{userInfo:e.userInfo});case r.c:return Object(o.a)(Object(o.a)({},n),{},{userInfo:null});case r.b:return Object(o.a)(Object(o.a)({},n),{},{loginShow:!0});case r.a:return Object(o.a)(Object(o.a)({},n),{},{loginShow:!1});default:return n}},u=(0,t(64).createStore)(a);e.a=u},39:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var o=t(38),r=t(28),c=t.n(r),a=t(40),u=t(21),i=t(41),s={getScrollTop:function(){var n=0,e=0;return document.body&&(n=document.body.scrollTop),document.documentElement&&(e=document.documentElement.scrollTop),n-e>0?n:e},getScrollHeight:function(){var n=0,e=0;return document.body&&(n=document.body.scrollHeight),document.documentElement&&(e=document.documentElement.scrollHeight),n-e>0?n:e},getWindowHeight:function(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},getIsTOBottom:function(){return s.getScrollHeight()-s.getScrollTop()-s.getWindowHeight()},firstTokenUserinfo:function(){var n=Object(o.a)(c.a.mark((function n(){var e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.f)();case 2:(e=n.sent).status&&u.a.dispatch(Object(i.d)(e.body));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),getUrlParam:function(n){var e=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substring(1).match(e);return null!=t?decodeURI(t[2]):null}}},4:function(n,e,t){"use strict";var o,r=t(36),c=t(35),a=t(0),u=t(22),i=t(1),s=function(n){var e=n.type,t=n.text;return Object(i.jsx)("div",{className:"message ".concat(e),children:Object(i.jsx)("span",{children:t})})},f=(t(87),function(){var n=Object(a.useState)([]),e=Object(c.a)(n,2),t=e[0],u=e[1];return o=function(n){u((function(e){var t=[].concat(Object(r.a)(e),[n]);return setTimeout((function(){!function(n){var e=n.key;u((function(n){return n.filter((function(n){return e!==n.key}))}))}(n)}),1500),t}))},Object(a.useEffect)((function(){t.length>0&&t.shift()}),[t]),Object(i.jsx)(i.Fragment,{children:t.map((function(n){var e=n.text,t=n.key,o=n.type;return Object(i.jsx)(s,{type:o,text:e},t)}))})}),d=function(){return(1e3*Math.random()).toFixed()},p={info:function(n){o({text:n,key:d(),type:"info"})},success:function(n){o({text:n,key:d(),type:"success"})},warning:function(n){o({text:n,key:d(),type:"warning"})},error:function(n){o({text:n,key:d(),type:"error"})}};e.a=p;!function(){var n=document.getElementById("#message-wrap");n||((n=document.createElement("div")).className="message-wrap",n.id="message-wrap",document.body.append(n)),u.render(Object(i.jsx)(f,{}),n)}()},40:function(n,e,t){"use strict";t.d(e,"d",(function(){return r})),t.d(e,"a",(function(){return c})),t.d(e,"h",(function(){return a})),t.d(e,"i",(function(){return u})),t.d(e,"f",(function(){return i})),t.d(e,"e",(function(){return s})),t.d(e,"g",(function(){return f})),t.d(e,"c",(function(){return d})),t.d(e,"b",(function(){return p})),t.d(e,"j",(function(){return l}));var o=t(11),r=function(n){return Object(o.b)("login/dologin",n)},c=function(){return Object(o.a)("user/public/captcha")},a=function(n){return Object(o.b)("login/send-sms",n)},u=function(n){return Object(o.b)("login/send-sms-reg",n)},i=function(){return Object(o.a)("user/public/get-user")},s=function(n){return Object(o.b)("login/doreg",n)},f=function(){return Object(o.a)("login/login-out")},d=function(n){return Object(o.b)("login/wechat/callback",n)},p=function(n){return Object(o.b)("login/wechat/bind.do",n)},l=function(n){return Object(o.a)("login/wechat/qrinfo",n)}},41:function(n,e,t){"use strict";t.d(e,"d",(function(){return r})),t.d(e,"c",(function(){return c})),t.d(e,"b",(function(){return a})),t.d(e,"a",(function(){return u}));var o=t(12),r=function(n){return{type:o.d,userInfo:n}},c=function(){return{type:o.c}},a=function(){return{type:o.b}},u=function(){return{type:o.a}}},62:function(n,e,t){},87:function(n,e,t){},88:function(n,e,t){"use strict";t.r(e);var o=t(0),r=t.n(o),c=t(22),a=t.n(c),u=(t(62),t(17)),i=t(18),s=t(19),f=t(20),d=t(10),p=t(29),l=t(2),b=t(21),m=t(1),g=function(n){Object(s.a)(t,n);var e=Object(f.a)(t);function t(n){return Object(u.a)(this,t),e.call(this,n)}return Object(i.a)(t,[{key:"render",value:function(){var n=this.props,e=n.routerConfig,t=n.location.pathname,o=b.a.getState().userInfo,r=e.find((function(n){return n.path===t}));if(r&&!r.auth&&!o){var c=r.component;return Object(m.jsx)(l.b,{exact:!0,path:t,component:c})}return o?"/app/login"===t?Object(m.jsx)(l.a,{to:"/app/user"}):r?Object(m.jsx)(l.b,{path:t,component:r.component}):Object(m.jsx)(l.a,{to:t}):r?r.auth?Object(m.jsx)(l.a,{to:"/app/login"}):(l.b,void r.component):Object(m.jsx)(l.a,{to:t})}}]),t}(o.Component),h=function(){return Object(m.jsx)("div",{children:"Loading..."})},j=(Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(13)]).then(t.bind(null,515))}),{LoadingComponent:h}),Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(4),t.e(14)]).then(t.bind(null,538))}),{LoadingComponent:h})),O=Object(d.a)((function(){return Promise.all([t.e(0),t.e(4),t.e(16)]).then(t.bind(null,516))}),{LoadingComponent:h}),v=[{path:"/app/user",name:"User",component:Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(7),t.e(11)]).then(t.bind(null,526))}),{LoadingComponent:h}),auth:!0},{path:"/app/login",name:"Login",component:j},{path:"/app/register/register",name:"Register",component:O},{path:"/app/register/forget",name:"Register",component:O},{path:"/app/news",name:"News",component:Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(10)]).then(t.bind(null,535))}),{LoadingComponent:h})},{path:"/app/newsdetail",name:"NewsDetail",component:Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(9)]).then(t.bind(null,530))}),{LoadingComponent:h})},{path:"/app/newsauthormore",name:"NewsAuthorMore",component:Object(d.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(12)]).then(t.bind(null,519))}),{LoadingComponent:h})},{path:"/app/wechat/callback.do",name:"otherLogin",component:Object(d.a)((function(){return t.e(17).then(t.bind(null,520))}),{LoadingComponent:h})},{path:"/app/bindphone",name:"phoneBindLogin",component:Object(d.a)((function(){return Promise.all([t.e(0),t.e(4),t.e(15)]).then(t.bind(null,521))}),{LoadingComponent:h})},{path:"/app/useragreement",name:"userAgreement",component:Object(d.a)((function(){return t.e(18).then(t.bind(null,522))}),{LoadingComponent:h})}],w=function(n){Object(s.a)(t,n);var e=Object(f.a)(t);function t(){return Object(u.a)(this,t),e.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return Object(m.jsx)(p.a,{children:Object(m.jsx)(o.Fragment,{children:Object(m.jsx)(l.d,{children:Object(m.jsx)(g,{routerConfig:v})})})})}}]),t}(r.a.Component),y=w,x=function(n){n&&n instanceof Function&&t.e(19).then(t.bind(null,523)).then((function(e){var t=e.getCLS,o=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),o(n),r(n),c(n),a(n)}))};t(39).a.firstTokenUserinfo().then((function(){a.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))})),x()}},[[88,6,8]]]);
//# sourceMappingURL=main.bf6b7b9e.chunk.js.map