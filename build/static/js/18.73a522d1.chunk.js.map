{"version":3,"sources":["views/login/component/othorLogin/otherLoginIndex.tsx"],"names":["OtherLoginIndex","code","util","getUrlParam","state","doWechat","then","res","status","window","location","href","decodeURIComponent","errno","url","body","nickname","headimgurl","props","history","push","loginForceDo_api","result","replace","className","Component"],"mappings":"kOAMqBA,E,uKAEjB,WAAoB,IAAD,OACXC,EAAOC,IAAKC,YAAY,QAAQC,EAAOF,IAAKC,YAAY,SAC5DE,YAAS,CAACJ,OAAKG,UAAQE,MAAK,SAAAC,GACxB,GAAGA,EAAIC,OACHC,OAAOC,SAASC,KAAKC,mBAAmBV,IAAKC,YAAY,aAEzD,GAAiB,QAAdI,EAAIM,MAAiB,CACpB,IAAIC,EAAM,2BAA2BP,EAAIQ,KAAKC,SAAS,eAAeT,EAAIQ,KAAKE,WAC/E,EAAKC,MAAMC,QAAQC,KAAKN,QACJ,QAAdP,EAAIM,OACVQ,cAAmBf,MAAK,SAAAgB,GACpBA,EAAOd,QAAW,WACd,IAAIM,EAAKZ,IAAKC,YAAY,OAC1BM,OAAOC,SAASC,KAAOG,EAAMF,mBAAmBE,GAAKS,QAAQ,MAAO,IAAM,IAF5D,W,oBAUtC,WACI,OAAO,qBAAKC,UAAU,wB,GAxBeC","file":"static/js/18.73a522d1.chunk.js","sourcesContent":["//@ts-nocheck\r\nimport { Component } from 'react'\r\nimport {util} from 'utils/news'\r\nimport {doWechat, loginForceDo_api} from 'service/login'\r\nimport { Base64 } from 'js-base64';\r\n\r\nexport default class OtherLoginIndex extends Component {\r\n    \r\n    componentDidMount(){\r\n        let code = util.getUrlParam('code'),state= util.getUrlParam('state')\r\n        doWechat({code,state}).then(res=>{\r\n            if(res.status){\r\n                window.location.href=decodeURIComponent(util.getUrlParam('url'))\r\n            }else{\r\n                if(res.errno === 10201 ){\r\n                    let url = '/app/bindphone?nickname='+res.body.nickname+'&headimgurl='+res.body.headimgurl\r\n                    this.props.history.push(url);\r\n                }else if (res.errno === 10200) {\r\n                    loginForceDo_api().then(result=>{\r\n                        result.status && (() => {\r\n                            let url =util.getUrlParam('url')\r\n                            window.location.href = url ? decodeURIComponent(url).replace(/\\'/g, \"\") : '/'\r\n                        })()\r\n                    })\r\n                    \r\n                }\r\n            }\r\n        })\r\n    }\r\n    render(){\r\n        return <div className='otherLoginIndex'></div>\r\n    }\r\n   \r\n    \r\n}"],"sourceRoot":""}